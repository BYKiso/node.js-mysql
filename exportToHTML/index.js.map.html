<html>
<head>
<title>index.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
index.js.map</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/index.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;AAAA,qCAAsC;AACtC,yCAAiD;AACjD,uCAAwC;AAExC,MAAM,EAAE,GAAG,GAAG,eAAG,eAAe,eAAG,EAAE,CAAA;AACrC,MAAM,KAAK,GAAG,SAAS,eAAG,EAAE,CAAA;AAC5B,MAAM,GAAG,GAAG,GAAG,eAAG,UAAU,eAAG,EAAE,CAAA;AACjC,MAAM,IAAI,GAAG,GAAG,eAAG,OAAO,eAAG,EAAE,CAAA;AAE/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA0CG;AACI,MAAM,eAAe,GAAG,CAC7B,IAAkB,EAClB,cAAsB,iBAAiB,EAC/B,EAAE;IACV,MAAM,CAAC,GACL,OAAO,IAAI,KAAK,QAAQ,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC;QACtD,IAAA,wBAAa,EAAC,IAAI,CAAC;QACrB,CAAC,CAAC,IAAI,CAAA;IACR,MAAM,SAAS,GAAG,IAAA,mBAAO,EAAC,CAAC,CAAC,CAAA;IAE5B,MAAM,GAAG,GAAG,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;IACrC,IAAI,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC;QACf,qEAAqE;QACrE,MAAM,EAAE,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,CAAA;QAClD,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,CAAA;QACnD,4DAA4D;QAC5D,sDAAsD;QACtD,IAAI,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC;YAC7B,MAAM,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,MAAM,CAAC,CAAA;YAC7C,IAAI,GAAG,EAAE,CAAC;gBACR,OAAO,IAAA,mBAAO,EACZ,EAAE,EACF,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,EACrC,cAAc,CACf,CAAA;YACH,CAAC;QACH,CAAC;QACD,MAAM,OAAO,GACX,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,KAAK,CAAC,eAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,eAAG,CAAC;YAChC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,eAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;QAChC,OAAO,IAAA,mBAAO,EAAC,EAAE,EAAE,OAAO,EAAE,cAAc,CAAC,CAAA;IAC7C,CAAC;SAAM,CAAC;QACN,kCAAkC;QAClC,MAAM,CAAC,GAAG,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;QACrC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;YACb,OAAO,IAAA,mBAAO,EAAC,SAAS,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,cAAc,CAAC,CAAA;QAC3D,CAAC;aAAM,CAAC;YACN,OAAO,IAAA,mBAAO,EAAC,SAAS,EAAE,WAAW,CAAC,CAAA;QACxC,CAAC;IACH,CAAC;AACH,CAAC,CAAA;AAzCY,QAAA,eAAe,mBAyC3B;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA0CG;AACI,MAAM,eAAe,GAAG,CAC7B,IAAkB,EAClB,cAAsB,iBAAiB,EACvC,EAAE,CACF,IAAI,CAAC,KAAK,CAAC,IAAA,sBAAY,EAAC,IAAA,uBAAe,EAAC,IAAI,EAAE,WAAW,CAAC,EAAE,MAAM,CAAC,CAAC,CAAA;AAJzD,QAAA,eAAe,mBAI0C&quot;</span><span class="s0">,</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import { readFileSync } from 'node:fs'</span><span class="s3">\n</span><span class="s1">import { dirname, resolve, sep } from 'node:path'</span><span class="s3">\n</span><span class="s1">import { fileURLToPath } from 'node:url'</span><span class="s3">\n\n</span><span class="s1">const NM = `${sep}node_modules${sep}`</span><span class="s3">\n</span><span class="s1">const STORE = `.store${sep}`</span><span class="s3">\n</span><span class="s1">const PKG = `${sep}package${sep}`</span><span class="s3">\n</span><span class="s1">const DIST = `${sep}dist${sep}`</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Find the package.json file, either from a TypeScript file somewhere not</span><span class="s3">\n </span><span class="s1">* in a 'dist' folder, or a built and/or installed 'dist' folder.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Note: this *only* works if you build your code into `'./dist'`, and that the</span><span class="s3">\n </span><span class="s1">* source path does not also contain `'dist'`! If you don't build into</span><span class="s3">\n </span><span class="s1">* `'./dist'`, or if you have files at `./src/dist/dist.ts`, then this will</span><span class="s3">\n </span><span class="s1">* not work properly!</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The default `pathFromSrc` option assumes that the calling code lives one</span><span class="s3">\n </span><span class="s1">* folder below the root of the package. Otherwise, it must be specified.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Example:</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* // src/index.ts</span><span class="s3">\n </span><span class="s1">* import { findPackageJson } from 'package-json-from-dist'</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* const pj = findPackageJson(import.meta.url)</span><span class="s3">\n </span><span class="s1">* console.log(`package.json found at ${pj}`)</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* If the caller is deeper within the project source, then you must provide</span><span class="s3">\n </span><span class="s1">* the appropriate fallback path:</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* // src/components/something.ts</span><span class="s3">\n </span><span class="s1">* import { findPackageJson } from 'package-json-from-dist'</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* const pj = findPackageJson(import.meta.url, '../../package.json')</span><span class="s3">\n </span><span class="s1">* console.log(`package.json found at ${pj}`)</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* When running from CommmonJS, use `__filename` instead of `import.meta.url`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* // src/index.cts</span><span class="s3">\n </span><span class="s1">* import { findPackageJson } from 'package-json-from-dist'</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* const pj = findPackageJson(__filename)</span><span class="s3">\n </span><span class="s1">* console.log(`package.json found at ${pj}`)</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const findPackageJson = (</span><span class="s3">\n  </span><span class="s1">from: string | URL,</span><span class="s3">\n  </span><span class="s1">pathFromSrc: string = '../package.json',</span><span class="s3">\n</span><span class="s1">): string =&gt; {</span><span class="s3">\n  </span><span class="s1">const f =</span><span class="s3">\n    </span><span class="s1">typeof from === 'object' || from.startsWith('file://') ?</span><span class="s3">\n      </span><span class="s1">fileURLToPath(from)</span><span class="s3">\n    </span><span class="s1">: from</span><span class="s3">\n  </span><span class="s1">const __dirname = dirname(f)</span><span class="s3">\n\n  </span><span class="s1">const nms = __dirname.lastIndexOf(NM)</span><span class="s3">\n  </span><span class="s1">if (nms !== -1) {</span><span class="s3">\n    </span><span class="s1">// inside of node_modules. find the dist directly under package name.</span><span class="s3">\n    </span><span class="s1">const nm = __dirname.substring(0, nms + NM.length)</span><span class="s3">\n    </span><span class="s1">const pkgDir = __dirname.substring(nms + NM.length)</span><span class="s3">\n    </span><span class="s1">// affordance for yarn berry, which puts package contents in</span><span class="s3">\n    </span><span class="s1">// '.../node_modules/.store/${id}-${hash}/package/...'</span><span class="s3">\n    </span><span class="s1">if (pkgDir.startsWith(STORE)) {</span><span class="s3">\n      </span><span class="s1">const pkg = pkgDir.indexOf(PKG, STORE.length)</span><span class="s3">\n      </span><span class="s1">if (pkg) {</span><span class="s3">\n        </span><span class="s1">return resolve(</span><span class="s3">\n          </span><span class="s1">nm,</span><span class="s3">\n          </span><span class="s1">pkgDir.substring(0, pkg + PKG.length),</span><span class="s3">\n          </span><span class="s1">'package.json',</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const pkgName =</span><span class="s3">\n      </span><span class="s1">pkgDir.startsWith('@') ?</span><span class="s3">\n        </span><span class="s1">pkgDir.split(sep, 2).join(sep)</span><span class="s3">\n      </span><span class="s1">: String(pkgDir.split(sep)[0])</span><span class="s3">\n    </span><span class="s1">return resolve(nm, pkgName, 'package.json')</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">// see if we are in a dist folder.</span><span class="s3">\n    </span><span class="s1">const d = __dirname.lastIndexOf(DIST)</span><span class="s3">\n    </span><span class="s1">if (d !== -1) {</span><span class="s3">\n      </span><span class="s1">return resolve(__dirname.substring(0, d), 'package.json')</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">return resolve(__dirname, pathFromSrc)</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Load the package.json file, either from a TypeScript file somewhere not</span><span class="s3">\n </span><span class="s1">* in a 'dist' folder, or a built and/or installed 'dist' folder.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Note: this *only* works if you build your code into `'./dist'`, and that the</span><span class="s3">\n </span><span class="s1">* source path does not also contain `'dist'`! If you don't build into</span><span class="s3">\n </span><span class="s1">* `'./dist'`, or if you have files at `./src/dist/dist.ts`, then this will</span><span class="s3">\n </span><span class="s1">* not work properly!</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* The default `pathFromSrc` option assumes that the calling code lives one</span><span class="s3">\n </span><span class="s1">* folder below the root of the package. Otherwise, it must be specified.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Example:</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* // src/index.ts</span><span class="s3">\n </span><span class="s1">* import { loadPackageJson } from 'package-json-from-dist'</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* const pj = loadPackageJson(import.meta.url)</span><span class="s3">\n </span><span class="s1">* console.log(`Hello from ${pj.name}@${pj.version}`)</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* If the caller is deeper within the project source, then you must provide</span><span class="s3">\n </span><span class="s1">* the appropriate fallback path:</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* // src/components/something.ts</span><span class="s3">\n </span><span class="s1">* import { loadPackageJson } from 'package-json-from-dist'</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* const pj = loadPackageJson(import.meta.url, '../../package.json')</span><span class="s3">\n </span><span class="s1">* console.log(`Hello from ${pj.name}@${pj.version}`)</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* When running from CommmonJS, use `__filename` instead of `import.meta.url`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* // src/index.cts</span><span class="s3">\n </span><span class="s1">* import { loadPackageJson } from 'package-json-from-dist'</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* const pj = loadPackageJson(__filename)</span><span class="s3">\n </span><span class="s1">* console.log(`Hello from ${pj.name}@${pj.version}`)</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const loadPackageJson = (</span><span class="s3">\n  </span><span class="s1">from: string | URL,</span><span class="s3">\n  </span><span class="s1">pathFromSrc: string = '../package.json',</span><span class="s3">\n</span><span class="s1">) =&gt;</span><span class="s3">\n  </span><span class="s1">JSON.parse(readFileSync(findPackageJson(from, pathFromSrc), 'utf8'))</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">]}</span></pre>
</body>
</html>